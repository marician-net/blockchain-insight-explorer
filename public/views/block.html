<section data-ng-controller="BlocksController" data-ng-init="findOne()">
  <div class="page-header">
    <h1 data-ng-if="block">Block #{{ block.height }}</h1>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Summary</h3>
        </div>
        <div class="panel-body">
          <table class="table table-striped">
            <tbody>
            <tr>
              <td>Number Of Transactions</td>
              <td>{{block.tx.length}}<td>
            </tr>
            <tr>
              <td>Height</td>
              <td>{{block.height}}</td>
            </tr>
            <tr>
              <td>Timestamp</td>
              <td>{{block.time * 1000 | date:'medium'}}</td>
            </tr>
            <tr>
              <td>Difficulty</td>
              <td>{{block.difficulty}}</td>
            </tr>
            <tr>
              <td>Bits</td>
              <td>{{block.bits}}</td>
            </tr>
            <tr>
              <td>Size</td>
              <td>{{block.size}}</td>
            </tr>
            <tr>
              <td>Version</td>
              <td>{{block.version}}</td>
            </tr>
            <tr>
              <td>Nonce</td>
              <td>{{block.nonce}}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panel panel-default" data-ng-show="!tx.isCoinBase">
        <div class="panel-heading">
          <h3 class="panel-title">Hashes</h3>
        </div>
        <div class="panel-body">
          <table class="table table-striped">
            <tbody>
            <tr>
              <td>Hash</td>
              <td><a class="address" href="/#!/block/{{block.hash}}">{{block.hash}}</a></td>
            </tr>
            <tr>
              <td>Previous Block</td>
              <td><a class="address" href="/#!/block/{{block.previousblockhash}}">{{block.previousblockhash}}</a></td>
            </tr>
            <tr>
              <td>Next Block</td>
              <td><a class="address" href="/#!/block/{{block.nextblockhash}}">{{block.nextblockhash}}</a></td>
            </tr>
            <tr>
              <td>Merkle Root</td>
              <td class="address">{{block.merkleroot}}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div data-ng-controller="transactionsController" data-ng-init="byBlock(params.blockHash)"> 
    <h2>Transactions <small>Transactions contained within this block</small></h2>
    <div data-ng-show="txs.length == 0">
      Loading...
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Transaction Hash</th>
          <th>Datetime</th>
          <th>Fee</th>
          <th>Transacted Amount</th>
        </tr>
      </thead>
      <tbody>
      <tr data-ng-repeat="tx in txs">
        <td><a href="/#!/tx/{{tx.txid}}">{{tx.txid}}</a></td>
        <td>{{tx.time * 1000 | date:'medium'}}</td>
        <td>{{tx.feeds}}</td>
        <td>{{tx.valueOut}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
